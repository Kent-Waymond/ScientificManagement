<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ScientificPayoffs</title>
    <script src="jQuery/jquery-3.3.1.min%20(1).js"></script>
    <script type="text/javascript" src="layui/layui.js"></script>
    <script type="text/javascript" src="layui/layui.all.js"></script>
    <link rel="stylesheet"  href="layui/css/layui.css" type="text/css"/>
    <script src="https://vuejs.org/js/vue.js"></script>
    <script>
        console.log(123123123)
    </script>
</head>
<body>
<div class="layui-container">
    <div class="layui-row">
        <div class="layui-col-md2">
            <ul class="layui-nav layui-nav-tree layui-nav-side " >
                <li class="layui-nav-item layui-nav-itemed">
                    <a href="#">科研成果</a>
                    <dl class="layui-nav-child">
                        <dd><a href="#">专利</a></dd>
                        <dd><a href="#">论文</a></dd>
                        <dd><a href="#">软著</a></dd>
                        <dd><a href="#">著作</a></dd>
                        <dd><a href="#">实用新型</a></dd>
                    </dl>
                </li>
            </ul>
        </div>
        <div class="layui-col-md10 layui-col-md-offset2">
            <div class="layui-row grid-demo grid-demo-bg1">
                <div class="layui-col-md12" style="height: 100px;">
                    <form class="layui-form" action="" style="margin-top: 30px;">
                        <div class="layui-form-item" >
                            <div class="layui-input-block layui-input-inline" style="width: 200px;">
                                <select name="city" lay-verify="required" >
                                    <option value="">请选择一项成果</option>
                                    <option value="0">专利</option>
                                    <option value="1">论文</option>
                                    <option value="2">软著</option>
                                    <option value="3">著作</option>
                                    <option value="4">实用新型</option>
                                </select>
                            </div>
                            <div class="layui-input-block layui-input-inline" style="margin-left: 20px">
                                <input type="text" name="title" required  lay-verify="required" placeholder="请输入标题" class="layui-input" style="width: 200px;">
                            </div>
                            <div class="layui-input-block layui-input-inline" style="margin-left: 20px">
                                <button class="layui-btn" lay-submit lay-filter="formDemo" >查询</button>
                            </div>

                        </div>
                    </form>

                </div>
                <div class="layui-row grid-demo grid-demo-bg1">
                    <div class="layui-col-md12">
                        //判断当前用户 若为老师 则操作为管理下载查看 若为学生只可查看
                        <table class="layui-table">
                            <colgroup>
                                <col width="150">
                                <col width="200">
                                <col>
                            </colgroup>
                            <thead>
                            <tr>
                                <th>类型ID</th>
                                <th>用户ID</th>
                                <th>成果ID</th>
                                <th>成果所属</th>
                                <th>授权书URL</th>
                                <th>申报书URL</th>
                                <th>扫描件URL</th>
                                <th>操作</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>1</td>
                                <td>1</td>
                                <td>1</td>
                                <td>1</td>
                                <td>1</td>
                                <td>1</td>
                                <td>1</td>
                                <td><a href="#">查看</a></td>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>1</td>
                                <td>1</td>
                                <td>1</td>
                                <td>1</td>
                                <td>1</td>
                                <td>1</td>
                                <td><a href="#">查看</a></td>
                            </tr>
                            </tbody>
                        </table>
                        <button type="button" class="layui-btn" id="chooseFile"><i class="layui-icon">&#xe67c;</i>选择文件</button>
                        &nbsp;&nbsp;文件名称: <span id="fileName"></span>
                        <div style="height: 20px;"></div>
                            <div class="layui-form-item" >
                                <div class="layui-input-block layui-input-inline" style="margin-left: 0px">
                                    <button type="button" class="layui-btn" id="uploadBtn"><i class="layui-icon">&#xe67c;</i>上传文件</button>
                                </div>
                                <div class="layui-progress layui-progress-big layui-input-inline" lay-showPercent="yes" lay-filter="progressBar"style="width: 500px;margin-top:10px;margin-left: -75px;">
                                <div class="layui-progress-bar layui-bg-red" lay-percent="0%" ></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
        <script>
            $(document).ready(function () {
                var ele = layui.element;
                ele.render();
            });

            layui.use('form', function(){
                var form = layui.form;
                //监听提交
                form.on('submit(formDemo)', function(data){
                    layer.msg(JSON.stringify(data.field));
                    return false;
                });
                form.render();
            });
        </script>
<script type="text/javascript">
    var upload = layui.upload,
        element = layui.element;
    element.init();


    upload.render({
        elem: '#chooseFile', // 文件选择
        accept:'file',
        url: '/fileUpload',
        auto: false, // 设置不自动提交
        bindAction: '#uploadBtn', // 提交按钮
        percent:"50%",
        progress: function(e , percent) {
            console.log("进度：" + percent + '%');
            element.progress('progressBar',percent  + '%');
        },
        choose: function(obj) {
            obj.preview(function(index, file, result) {
                $("#fileName").html(file.name);
            });
        },
        done: function(res) {
            layer.msg(res.msg);
        },
        error: function(res) {
            layer.msg(res.msg);
        }
    });
</script>
</body>
</html>