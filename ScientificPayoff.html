<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ScientificPayoffs</title>
    <script src="jQuery/jquery-3.3.1.min%20(1).js"></script>
    <script type="text/javascript" src="layui/layui.js"></script>
    <script type="text/javascript" src="layui/layui.all.js"></script>
    <link rel="stylesheet"  href="layui/css/layui.css" type="text/css"/>
    <script src="https://vuejs.org/js/vue.js"></script>

</head>
<body>
<div class="layui-col-md10 layui-col-md-offset2">
            <div class="layui-row grid-demo grid-demo-bg1">
                <div class="layui-col-md12" style="height: 100px;">
                    <form class="layui-form" action="" style="margin-top: 30px;">
                        <div class="layui-form-item" >
                            <div class="layui-input-block layui-input-inline" style="width: 200px;">
                                <select name="city" lay-verify="required" >
                                    <option value="">请选择一项成果</option>
                                    <option value="0">专利</option>
                                    <option value="1">论文</option>
                                    <option value="2">软著</option>
                                    <option value="3">著作</option>
                                    <option value="4">实用新型</option>
                                </select>
                            </div>
                            <div class="layui-input-block layui-input-inline" style="margin-left: 20px">
                                <input type="text" name="title" required  lay-verify="required" placeholder="请输入标题" class="layui-input" style="width: 200px;">
                            </div>
                            <div class="layui-input-block layui-input-inline" style="margin-left: 20px">
                                <button class="layui-btn" lay-submit lay-filter="formDemo" >查询</button>
                            </div>
                        </div>
                    </form>
                </div>
                <fieldset class="layui-elem-field layui-field-title site-demo-button" style="margin-top: 30px;">
                    <legend>科研成果</legend>
                </fieldset>
                <div class="layui-row grid-demo grid-demo-bg1">
                    <div class="layui-col-md12">
                        //判断当前用户 若为老师 则操作为管理下载查看 若为学生只可查看
                        <table class="layui-table">
                            <colgroup>
                                <col width="150">
                                <col width="200">
                                <col>
                            </colgroup>
                            <thead>
                            <tr>
                                <th>类型ID</th>
                                <th>用户ID</th>
                                <th>成果ID</th>
                                <th>成果所属</th>
                                <th>授权书URL</th>
                                <th>申报书URL</th>
                                <th>扫描件URL</th>
                                <th>操作</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>1</td>
                                <td>1</td>
                                <td>1</td>
                                <td>1</td>
                                <td>1</td>
                                <td>1</td>
                                <td>1</td>
                                <td><button class="layui-btn layui-btn-normal">查看</button></td>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>1</td>
                                <td>1</td>
                                <td>1</td>
                                <td>1</td>
                                <td>1</td>
                                <td>1</td>
                                <td><button class="layui-btn layui-btn-normal">查看</button></td>
                            </tr>
                            </tbody>
                        </table>
                        <div id="paging" style="text-align: center;"></div>
                        <div class="layui-upload">
                            <button type="button" class="layui-btn layui-btn-normal" id="choosefile">选择文件</button>
                            <button type="button" class="layui-btn" id="upload">开始上传</button>
                        </div>
                        <div class="layui-upload-drag" id="dragToUpload" style="margin-top: 15px;">
                            <i class="layui-icon"></i>
                            <p>点击上传，或将文件拖拽到此处</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
<script>  //分页
    layui.use(['laypage', 'layer'], function(){
        var laypage = layui.laypage
            ,layer = layui.layer;

        laypage.render({
            elem: 'paging'
            ,count: 100
            ,layout: ['count', 'prev', 'page', 'next', 'limit', 'refresh', 'skip']
            ,jump: function(obj){
                console.log(obj)
                console.log(obj.curr)  //当前页号
                console.log(obj.limit); //得到每页显示的条数
            }
        });
    });
</script>
<script>  //表单渲染
    $(document).ready(function () {
        var ele = layui.element;
        ele.render();
    });

    layui.use('form', function(){
        var form = layui.form;
        //监听提交
        form.on('submit(formDemo)', function(data){
            layer.msg(JSON.stringify(data.field));
            return false;
        });
        form.render();
    });
</script>
<script type="text/javascript">
    var upload = layui.upload,
        element = layui.element;
    element.init();
    //选完文件后不自动上传
    upload.render({
        elem: '#choosefile'
        ,url: '/upload/'
        ,auto: false
        //,multiple: true
        ,bindAction: '#upload'
        ,done: function(res) {
            layer.msg(res.msg);
        },
        error: function(res) {
            layer.msg(res.msg);
        }
    });

    //拖拽上传
    upload.render({
        elem: 'dragToUpload'
        ,url: '/upload/'
        ,done: function(res){
            console.log(res)
        }
    });
</script>
</body>
</html>